<div class="section-profile">
    <div class="row">
        <div class="col-md-3 avoid-right-padding">
            <div class="profile-title"> Layout</div>
            <div class="profile-list-container-wrapper">
                <div class="nav">
                    <button type="button" class="navbar-toggle" ng-click="navbarCollapsed = !navbarCollapsed" style="background-color: #000000;">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar label-warning"></span>
                        <span class="icon-bar label-warning"></span>
                        <span class="icon-bar label-warning"></span>
                    </button>
                </div>


                <div class="collapse navbar-collapse" collapse="! navbarCollapsed">
                <div class="profile-list-container">
                    <div class="profile-list-each" on-drop-success="fnSuccessDropped($event,$index,arrProfileDetails.template.properties)" ui-draggable="true" drag="eachProperty"
                         ng-repeat="eachProperty in arrProfileDetails.template.properties track by $index" ng-switch="eachProperty.key">
                        <div ng-switch-when="jobtitle" class="profile-list-title">
                            <i class="fa fa-bars"></i> <span>{{eachProperty.key | capitalize}}</span>
                        </div>
                        <div ng-switch-when="jobspec" class="profile-list-title">
                            <i class="fa fa-briefcase"></i> <span>{{eachProperty.key | capitalize}}</span>
                        </div>
                        <div ng-switch-when="jobdesc" class="profile-list-title">
                            <i class="fa fa-bars"></i> <span>{{eachProperty.key | capitalize}}</span>
                        </div>
                        <div ng-switch-when="video" class="profile-list-title">
                            <i class="fa fa-video-camera"></i> <span>{{eachProperty.key | capitalize}}</span>
                        </div>
                        <div ng-switch-when="requirement" class="profile-list-title">
                            <i class="fa fa-bars"></i> <span>{{eachProperty.key | capitalize}}</span>
                        </div>
                        <div ng-switch-when="image" class="profile-list-title">
                            <i class="fa fa-file-photo-o"></i> <span>{{eachProperty.key | capitalize}}</span>
                        </div>
                        <div ng-switch-when="skills" class="profile-list-title">
                            <i class="fa fa-bars"></i> <span>{{eachProperty.key | capitalize}}</span>
                        </div>
                    </div>
                    <div class="section-dragdrop">
                        Drag n' drop content
                    </div>
                </div>
            </div>

            </div>
        </div>
        <div class="col-md-9 avoid-right-padding border-left">
            <div class="section-desc-top row">
                <div class="pull-left btn top-button">
                    <a ui-sref="user-panel.profile-view" class="profile-view-button">
                        <i class="fa fa-eye"></i>  Preview
                    </a>
                </div>
                <div class="pull-right btn top-button">
                    <a ui-sref="user-panel.profile-view" class="profile-view-button">
                        <i class="fa fa-long-arrow-right"></i> Publish
                    </a>
                </div>
            </div>

            <div class="col-md-10">
                <div class="profile-desc-container" ui-on-Drop="fnDataDropped($event,$data,arrprofilePageData)">
                    <div class="section-dragdrop">
                        DROP CONTENTS HERE
                    </div>
                    <div ui-sortable-todo ng-model="arrprofilePageData">
                        <div class="profile-desc-each" ui-draggable="false"
                             ng-repeat="eachProperty in arrprofilePageData track by $index">
                            <div ng-if=" eachProperty.key == 'jobtitle' || eachProperty.key == 'jobspec' || eachProperty.key == 'jobdesc' || eachProperty.key == 'requirement' " class="profile-list-title">
                                <div class="row">
                                    <div class="pull-left">
                                        <h3>{{eachProperty.key | capitalize}}</h3>
                                    </div>
                                    <div class="pull-right" ng-hide="eachProperty.editable">
                                        <div class="btn-group" dropdown>
                                            <button type="button" class="btn btn-default dropdown-toggle">
                                                <span class="caret"></span>
                                                <span class="sr-only">Split button!</span>
                                            </button>
                                            <ul class="dropdown-menu" role="menu">
                                                <li class="text-center operation" ng-click="eachProperty.editable = !eachProperty.editable">Edit</li>
                                                <li class="text-center operation" ng-click="fnDeleteInstance($index)">Delete</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div ng-hide="eachProperty.editable"> <p>{{ eachProperty.value.text}}</p></div>
                                <div ng-show="eachProperty.editable">
                                    <div edit-directive
                                         obj="eachProperty"
                                         value="{{eachProperty.value.text}}"
                                            ></div>
                                </div>
                            </div>
                            <div ng-if ="eachProperty.key == 'image' ">
                                <div class="row">
                                    <div class="pull-left">
                                        <h3>{{eachProperty.key | capitalize}}</h3>
                                    </div>
                                    <div class="pull-right" ng-hide="eachProperty.editable">
                                        <div class="btn-group" dropdown>
                                            <button type="button" class="btn btn-default dropdown-toggle">
                                                <span class="caret"></span>
                                                <span class="sr-only">Split button!</span>
                                            </button>
                                            <ul class="dropdown-menu" role="menu">
                                                <li class="text-center operation" ng-click="eachProperty.editable = !eachProperty.editable">Edit</li>
                                                <li class="text-center operation" ng-click="fnDeleteInstance($index)">Delete</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div ng-hide="eachProperty.editable"> <p>{{ eachProperty.value.text}}</p></div>
                                <div ng-hide="eachProperty.editable">
                                    <img ng-src="{{fngetImage(eachProperty.value.url)}}" class="img-responsive" alt="{{eachProperty.value.alt}}"/>
                                </div>
                                <div ng-show="eachProperty.editable">
                                    <div edit-directive
                                         obj="eachProperty"
                                         value="{{eachProperty.value.url}}"
                                            ></div>
                                </div>
                            </div>
                            <div ng-if ="eachProperty.key == 'video' ">
                                <div class="row">
                                    <div class="pull-left">
                                        <h3>{{eachProperty.key | capitalize}}</h3>
                                    </div>
                                    <div class="pull-right" ng-hide="eachProperty.editable">
                                        <div class="btn-group" dropdown>
                                            <button type="button" class="btn btn-default dropdown-toggle">
                                                <span class="caret"></span>
                                                <span class="sr-only">Split button!</span>
                                            </button>
                                            <ul class="dropdown-menu" role="menu">
                                                <li class="text-center operation" ng-click="eachProperty.editable = !eachProperty.editable">Edit</li>
                                                <li class="text-center operation" ng-click="fnDeleteInstance($index)">Delete</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div ng-hide="eachProperty.editable"> <p>{{ eachProperty.value.text}}</p></div>
                                <div ng-hide="eachProperty.editable">
                                    <iframe type="text/html" width="560" height="315" data-ng-src="{{fntrustSrc(eachProperty.value.url)}}" allowfullscreen frameborder="0"></iframe>
                                </div>
                                <div ng-show="eachProperty.editable">
                                    <div edit-directive
                                         obj="eachProperty"
                                         value="{{eachProperty.value.url}}"
                                            ></div>
                                </div>
                            </div>
                            <div ng-if ="eachProperty.key == 'skills' ">
                                <div class="row">
                                    <div class="pull-left">
                                        <h3>{{eachProperty.key | capitalize}}</h3>
                                    </div>
                                    <div class="pull-right" ng-hide="eachProperty.editable">
                                        <div class="btn-group" dropdown>
                                            <button type="button" class="btn btn-default dropdown-toggle">
                                                <span class="caret"></span>
                                                <span class="sr-only">Split button!</span>
                                            </button>
                                            <ul class="dropdown-menu" role="menu">
                                                <li class="text-center operation" ng-click="eachProperty.editable = !eachProperty.editable">Edit</li>
                                                <li class="text-center operation" ng-click="fnDeleteInstance($index)">Delete</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div ng-hide="eachProperty.editable">
                                    <p>{{ eachProperty.value.name }} : {{ eachProperty.value.strength}}</p>
                                </div>

                                <div ng-show="eachProperty.editable">
                                    <div skills-directive
                                         obj="eachProperty"
                                         name="{{eachProperty.value.name}}"
                                         strength="{{eachProperty.value.strength}}"
                                            ></div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
